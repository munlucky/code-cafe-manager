{"type":"entity","name":"codecafe::Boundary::AlwaysDo","entityType":"boundary","observations":["커밋 전 pnpm typecheck 실행","패키지 변경 시 해당 CLAUDE.md Flow 유지 확인","Export 변경 시 상위 패키지 영향 확인","IPC 핸들러에서 사용자 입력 경로는 validatePath로 검증 필수","프로덕션 코드에서 console.log는 조건부 로깅 적용 (devLog 패턴)"]}
{"type":"entity","name":"codecafe::Boundary::AskFirst","entityType":"boundary","observations":["새 의존성 추가","IPC 채널 추가/변경","Provider 인터페이스 변경"]}
{"type":"entity","name":"codecafe::Boundary::NeverDo","entityType":"boundary","observations":[".env 파일 커밋","기존 테스트 삭제","shell injection 가능한 exec 사용 (execFile 사용 필수)","innerHTML 직접 사용 금지 - DOM API (createElement, textContent) 사용","dangerouslySetInnerHTML에 escapeHtml 없이 데이터 전달 금지"]}
{"type":"entity","name":"codecafe::Documentation::ModuleSpecs","entityType":"documentation","observations":["docs/module-specs/README.md: Package Dependency Graph, Layer Architecture","packages/*/CLAUDE.md: 패키지별 Flow, File Map, API, Review Checklist",".claude/PROJECT.md: 전체 프로젝트 개요 및 아키텍처"]}
{"type":"entity","name":"codecafe::Architecture::Layers","entityType":"architecture","observations":["UI Layer: cli, desktop","Application Layer: orchestrator (facades, session, terminal, barista, engine, provider, workflow, role, storage)","Domain Layer: core (types, schema, errors, utils), schema","Infrastructure Layer: providers (common, claude-code, codex), git-worktree"]}
{"type":"entity","name":"codecafe::Convention::SecurityPatterns","entityType":"convention","observations":["exec 대신 execFile 사용 - 명령어 인젝션 방지","ALLOWED_COMMANDS 화이트리스트로 실행 가능한 명령어 제한","validatePath 함수로 경로 traversal 공격 방지","escapeHtml -> convertAnsiToHtml 순서로 XSS 방지","pnpm.overrides로 취약한 간접 의존성 버전 강제"]}
{"type":"relation","from":"codecafe::Architecture::Layers","to":"codecafe::Documentation::ModuleSpecs","relationType":"documented_in"}
{"type":"relation","from":"codecafe::Boundary::AlwaysDo","to":"codecafe::Documentation::ModuleSpecs","relationType":"enforces"}